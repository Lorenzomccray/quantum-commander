#!/usr/bin/env node

import { existsSync } from 'fs';
import { fileURLToPath } from 'url';
import { dirname, resolve } from 'path';

const here = dirname(fileURLToPath(import.meta.url));

let commanderPath = resolve(here, '../lib/QuantumCommander.js');
if (!existsSync(commanderPath)) {
  commanderPath = resolve(here, 'lib/QuantumCommander.js');
}

const { default: QuantumCommander } = await import(`file://${commanderPath}`);

try {
  await new QuantumCommander().run();
} catch (err) {
  console.error('[QuantumCommander] Startup failed:', err.message);
  process.exit(1);
}
